schema: '2.0'
stages:
  split:
    cmd: python src/features/data_split.py
    deps:
    - path: data/raw_data/raw.csv
      hash: md5
      md5: 617b56af2992376d5c3e91ad80823898
      size: 333757
    - path: src/features/data_split.py
      hash: md5
      md5: 481e6f200a6baec90b31e01f581ee78d
      size: 1575
    params:
      params.yaml:
        split.random_state: 42
        split.test_size: 0.2
    outs:
    - path: data/processed_data/X_test.csv
      hash: md5
      md5: 40163569dbdd083d938294df0ae2cf6a
      size: 57111
    - path: data/processed_data/X_train.csv
      hash: md5
      md5: 189853da31d4a15fa7b51e0644b14354
      size: 227322
    - path: data/processed_data/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
  normalize:
    cmd: python src/features/normalize.py
    deps:
    - path: data/processed_data/X_test.csv
      hash: md5
      md5: 40163569dbdd083d938294df0ae2cf6a
      size: 57111
    - path: data/processed_data/X_train.csv
      hash: md5
      md5: 189853da31d4a15fa7b51e0644b14354
      size: 227322
    - path: src/features/normalize.py
      hash: md5
      md5: 35e02181c6dc60d6a0b7c815324a9cb9
      size: 2358
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 97e9c0e7141cd942013e20b6e6595c6a
      size: 61513
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 3188b5a886705b77869a6c6551b13594
      size: 245351
  gridsearch:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 3188b5a886705b77869a6c6551b13594
      size: 245351
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: src/models/grid_search.py
      hash: md5
      md5: 5b4b69726bae146746ad4cdf259ad169
      size: 2102
    params:
      params.yaml:
        model.cv: 3
        model.max_depth:
        - 
        - 20
        - 30
        model.max_features:
        - sqrt
        - log2
        model.min_samples_leaf:
        - 1
        - 2
        model.min_samples_split:
        - 2
        - 5
        model.n_estimators:
        - 300
        - 500
        - 600
        model.random_state: 42
    outs:
    - path: models/params/best_params.pkl
      hash: md5
      md5: a88d223ccc1982890a56ceca862634a1
      size: 112
  training:
    cmd: python src/models/training.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 3188b5a886705b77869a6c6551b13594
      size: 245351
    - path: data/processed_data/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: models/params/best_params.pkl
      hash: md5
      md5: a88d223ccc1982890a56ceca862634a1
      size: 112
    - path: src/models/training.py
      hash: md5
      md5: 2c4439449e5e48e0d0d726a2634f23dd
      size: 1185
    outs:
    - path: models/models/trained_model.pkl
      hash: md5
      md5: cfee32ae8cc779064cc88a88815b1489
      size: 78560593
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 97e9c0e7141cd942013e20b6e6595c6a
      size: 61513
    - path: data/processed_data/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: models/models/trained_model.pkl
      hash: md5
      md5: cfee32ae8cc779064cc88a88815b1489
      size: 78560593
    - path: src/models/evaluate.py
      hash: md5
      md5: 6e9c5e82e68a8f256a45abed57bcd09a
      size: 2051
    outs:
    - path: data/predictions/predictions.csv
      hash: md5
      md5: 8ab4f20fd3ac7e000500bc47fefc2549
      size: 14078
    - path: metrics/scores.json
      hash: md5
      md5: f9a59bcb52d8ae865b0afefe90e1db06
      size: 52
